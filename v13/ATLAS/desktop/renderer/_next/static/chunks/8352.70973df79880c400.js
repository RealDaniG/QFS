"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8352],{58352:function(e,t,s){s.d(t,{Z:function(){return Z}});var a=s(57437),n=s(2265),r=s(12381),i=s(40279),l=s(23675),c=s(69174),d=s(79820),o=s(17168),u=s(15291),m=s(75060),x=s(38846),h=s(93448);function p(e){let{className:t,defaultValue:s,value:r,min:i=0,max:l=100,...c}=e,d=n.useMemo(()=>Array.isArray(r)?r:Array.isArray(s)?s:[i,l],[r,s,i,l]);return(0,a.jsxs)(x.fC,{"data-slot":"slider",defaultValue:s,value:r,min:i,max:l,className:(0,h.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...c,children:[(0,a.jsx)(x.fQ,{"data-slot":"slider-track",className:(0,h.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,a.jsx)(x.e6,{"data-slot":"slider-range",className:(0,h.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,t)=>(0,a.jsx)(x.bU,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var f=s(7204),g=s(55988),v=s(49322),j=s(91723),b=s(42208),w=s(29202),y=s(55736),N=s(66337),k=s(96215),C=s(70525),S=s(91804),z=s(11239),_=s(27515),E=s(32038);class K{async publishContent(e,t){return this.publish(e,this.did||"anonymous",t)}createDraft(e,t){return{content:e,options:t,draftId:"draft_".concat(Date.now()),timestamp:Date.now()}}async publish(e,t,s){try{if(!e)throw Error("Content cannot be empty");await new Promise(e=>setTimeout(e,800));let t="content_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2));return{success:!0,contentId:t,timestamp:Date.now()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Date.now()}}}async update(e,t,s){try{return{success:!0,contentId:e,timestamp:Date.now()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Date.now()}}}async delete(e,t){try{return{success:!0,contentId:e,timestamp:Date.now()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Date.now()}}}constructor(e,t){this.privateKey=e,this.did=t}}function Z(e){let{isOpen:t,onClose:s}=e,{isAuthenticated:x,did:Z}=(0,_.a)(),{isConnected:P}=(0,E.i)(),{publish:A,isPublishing:R}=function(){let{privateKey:e,did:t,isAuthenticated:s}=(0,_.a)(),[a,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),c=(0,n.useMemo)(()=>s&&e&&t?new K(e,t):null,[s,e,t]);return{publish:(0,n.useCallback)(async(e,t)=>{if(!c)return l(Error("User not authenticated")),null;r(!0),l(null);try{let s={type:"text/plain",communityId:t.communityId,tags:t.tags,visibility:t.visibility||"public"};return await c.publishContent(e,s)}catch(e){return console.error("Publishing failed:",e),l(e),null}finally{r(!1)}},[c]),createDraft:(0,n.useCallback)((e,t)=>c?c.createDraft(e,{type:"text/plain",tags:t.tags,visibility:t.visibility}):null,[c]),isPublishing:a,error:i,isReady:!!c}}(),[D,F]=(0,n.useState)(""),[I,U]=(0,n.useState)(""),[L,Q]=(0,n.useState)("public"),[T,V]=(0,n.useState)(!1),[M,O]=(0,n.useState)(""),[B,X]=(0,n.useState)([70]),[G,H]=(0,n.useState)([30]),[J,W]=(0,n.useState)({coherenceScore:0,rewardPotential:0,estimatedReach:0,guardChecks:[{name:"Content Quality",status:"pending",description:"Analyzing content structure and clarity"},{name:"Space Guidelines",status:"pending",description:"Checking against space standards"},{name:"Economic Impact",status:"pending",description:"Evaluating reward distribution"},{name:"Spam Detection",status:"pending",description:"Analyzing for spam patterns"}],projections:{immediateRewards:0,longTermRewards:0,reputationImpact:0,networkEffect:0}}),[Y,$]=(0,n.useState)(!1),q=async()=>{if(!P){$(!0);return}if(!D.trim())return;$(!1);let e=I.split(",").map(e=>e.trim()).filter(Boolean),t=await A(D,{visibility:L,tags:e});t?(console.log("Published:",t),F(""),U(""),$(!1),s()):console.error("Publish failed")},ee=e=>{switch(e){case"pass":return(0,a.jsx)(g.Z,{className:"h-4 w-4 text-green-500"});case"warning":return(0,a.jsx)(v.Z,{className:"h-4 w-4 text-yellow-500"});case"fail":return(0,a.jsx)(v.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(j.Z,{className:"h-4 w-4 text-gray-400"})}};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,a.jsx)(d.Ol,{className:"border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{children:"Create Content"}),(0,a.jsx)(d.SZ,{children:"Every action is transparent and economically accountable"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>V(!T),children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),T?"Hide":"Show"," Economics"]}),(0,a.jsx)(r.z,{variant:"ghost",size:"sm",onClick:s,children:"\xd7"})]})]})}),(0,a.jsx)(d.aY,{className:"p-0",children:(0,a.jsxs)("div",{className:"flex h-[600px]",children:[(0,a.jsx)("div",{className:(0,h.cn)("flex-1 p-6 overflow-y-auto",T&&"border-r"),children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m._,{htmlFor:"visibility",children:"Visibility:"}),(0,a.jsxs)(u.Ph,{value:L,onValueChange:Q,children:[(0,a.jsx)(u.i4,{className:"w-32",children:(0,a.jsx)(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"public",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),"Public"]})}),(0,a.jsx)(u.Ql,{value:"space",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),"Space"]})}),(0,a.jsx)(u.Ql,{value:"private",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),"Private"]})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m._,{htmlFor:"schedule",children:"Schedule:"}),(0,a.jsx)(i.I,{id:"schedule",type:"datetime-local",value:M,onChange:e=>O(e.target.value),className:"w-40"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"content",children:"Content"}),(0,a.jsx)(l.g,{id:"content",placeholder:"Share your thoughts with full transparency...",value:D,onChange:e=>F(e.target.value),className:"min-h-[200px] resize-none"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[D.length," characters â€¢ ",D.split(/\s+/).filter(e=>e.length>0).length," words"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"tags",children:"Tags"}),(0,a.jsx)(i.I,{id:"tags",placeholder:"Add tags separated by commas...",className:"w-full",value:I,onChange:e=>U(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(m._,{children:"Content Ranking Preferences"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m._,{className:"text-sm",children:"Coherence Weight"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[B[0],"%"]})]}),(0,a.jsx)(p,{value:B,onValueChange:X,max:100,step:5,className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m._,{className:"text-sm",children:"Engagement Weight"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[G[0],"%"]})]}),(0,a.jsx)(p,{value:G,onValueChange:H,max:100,step:5,className:"w-full"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>{D.length;let e=D.split(/\s+/).filter(e=>e.length>0).length,t=e=>{let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return Math.abs(t)/2147483647},s=D+I+L,a=t(s+"coh"),n=t(s+"rew"),r=t(s+"rea"),i=Math.min(.95,e/100*.8+.15*a),l=50*i+20*n,c=Math.floor(1e3*i+500*r);W({...J,coherenceScore:i,rewardPotential:l,estimatedReach:c,guardChecks:[{name:"Content Quality",status:i>.7?"pass":"warning",description:i>.7?"High quality content detected":"Content could be more detailed"},{name:"Space Guidelines",status:"pass",description:"Content aligns with space standards"},{name:"Economic Impact",status:l>30?"pass":"warning",description:l>30?"Positive economic impact expected":"Lower reward potential"},{name:"Spam Detection",status:"pass",description:"No spam patterns detected"}],projections:{immediateRewards:.3*l,longTermRewards:.7*l,reputationImpact:.1*i,networkEffect:.05*c}})},children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-1"}),"Analyze"]}),(0,a.jsxs)(r.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Save Draft"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.z,{variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(r.z,{onClick:q,disabled:R||!D.trim(),children:R?"Publishing...":M?"Schedule":"Publish"})]})]})]})}),T&&(0,a.jsx)("div",{className:"w-96 p-6 overflow-y-auto bg-muted/30",children:(0,a.jsxs)(o.mQ,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(o.SP,{value:"overview",children:"Overview"}),(0,a.jsx)(o.SP,{value:"guards",children:"Guards"}),(0,a.jsx)(o.SP,{value:"projections",children:"Projections"})]}),(0,a.jsx)(o.nU,{value:"overview",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-background rounded-lg",children:[(0,a.jsx)(C.Z,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:J.coherenceScore.toFixed(2)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Coherence Score"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-background rounded-lg",children:[(0,a.jsx)(S.Z,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:J.rewardPotential.toFixed(1)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"FLX Rewards"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-background rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Estimated Reach"}),(0,a.jsx)("span",{className:"text-sm font-bold",children:J.estimatedReach})]}),(0,a.jsx)(f.E,{value:J.estimatedReach/2e3*100,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:"Content Quality"}),(0,a.jsx)("span",{className:"font-medium",children:"High"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:"Network Effect"}),(0,a.jsx)("span",{className:"font-medium",children:"Positive"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:"Reward Distribution"}),(0,a.jsx)("span",{className:"font-medium",children:"Fair"})]})]})]})}),(0,a.jsx)(o.nU,{value:"guards",className:"space-y-3",children:(0,a.jsx)("div",{className:"space-y-3",children:J.guardChecks.map((e,t)=>(0,a.jsx)("div",{className:"p-3 bg-background rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[ee(e.status),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)(c.C,{variant:"pass"===e.status?"default":"warning"===e.status?"secondary":"destructive",className:"text-xs",children:e.status})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]})},t))})}),(0,a.jsx)(o.nU,{value:"projections",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"p-3 bg-background rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Immediate Rewards"}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["+",J.projections.immediateRewards.toFixed(1)," FLX"]})]})}),(0,a.jsx)("div",{className:"p-3 bg-background rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Long-term Rewards"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:["+",J.projections.longTermRewards.toFixed(1)," FLX"]})]})}),(0,a.jsx)("div",{className:"p-3 bg-background rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Reputation Impact"}),(0,a.jsxs)("span",{className:"font-bold text-purple-600",children:["+",J.projections.reputationImpact.toFixed(3)]})]})}),(0,a.jsx)("div",{className:"p-3 bg-background rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Network Effect"}),(0,a.jsxs)("span",{className:"font-bold text-orange-600",children:["+",J.projections.networkEffect.toFixed(0)," users"]})]})}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(z.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Total Potential"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[(J.projections.immediateRewards+J.projections.longTermRewards).toFixed(1)," FLX"]})]})]})})]})})]})})]})}):null}},79820:function(e,t,s){s.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return r},aY:function(){return d},eW:function(){return o},ll:function(){return l}});var a=s(57437);s(2265);var n=s(93448);function r(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...s})}},75060:function(e,t,s){s.d(t,{_:function(){return i}});var a=s(57437);s(2265);var n=s(370),r=s(93448);function i(e){let{className:t,...s}=e;return(0,a.jsx)(n.f,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},7204:function(e,t,s){s.d(t,{E:function(){return i}});var a=s(57437);s(2265);var n=s(1505),r=s(93448);function i(e){let{className:t,value:s,...i}=e;return(0,a.jsx)(n.fC,{"data-slot":"progress",className:(0,r.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...i,children:(0,a.jsx)(n.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}},15291:function(e,t,s){s.d(t,{Bw:function(){return m},Ph:function(){return d},Ql:function(){return x},i4:function(){return u},ki:function(){return o}});var a=s(57437);s(2265);var n=s(74797),r=s(40875),i=s(30401),l=s(22135),c=s(93448);function d(e){let{...t}=e;return(0,a.jsx)(n.fC,{"data-slot":"select",...t})}function o(e){let{...t}=e;return(0,a.jsx)(n.B4,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:i,...l}=e;return(0,a.jsxs)(n.xz,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[i,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(r.Z,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:r="popper",...i}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(p,{})]})})}function x(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(n.ck,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(i.Z,{className:"size-4"})})}),(0,a.jsx)(n.eT,{children:s})]})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(n.u_,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(l.Z,{className:"size-4"})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(n.$G,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(r.Z,{className:"size-4"})})}},23675:function(e,t,s){s.d(t,{g:function(){return r}});var a=s(57437);s(2265);var n=s(93448);function r(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}},27515:function(e,t,s){s.d(t,{a:function(){return d}});var a=s(2265),n=s(82957).Buffer;async function r(){let e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=await crypto.subtle.exportKey("raw",e.publicKey),s=await crypto.subtle.exportKey("pkcs8",e.privateKey),a=new Uint8Array(t),r=new Uint8Array(s),i=n.from(a).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return{publicKey:a,privateKey:r,did:"did:key:".concat(i)}}let i="atlas_identity_v1";function l(e){if(e.length%2!=0)throw Error("Invalid hex string");let t=new Uint8Array(e.length/2);for(let s=0;s<e.length;s+=2)t[s/2]=parseInt(e.substring(s,s+2),16);return t}function c(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function d(){let[e,t]=(0,a.useState)({did:null,privateKey:null,publicKey:null,isAuthenticated:!1,isLoading:!0,error:null});(0,a.useEffect)(()=>{s()},[]);let s=async()=>{try{let e=localStorage.getItem(i);if(e){let s=JSON.parse(e);t({did:s.did,privateKey:l(s.privateKey),publicKey:l(s.publicKey),isAuthenticated:!0,isLoading:!1,error:null})}else{let e=await r(),s={did:e.did,privateKey:c(e.privateKey),publicKey:c(e.publicKey)};localStorage.setItem(i,JSON.stringify(s)),t({did:e.did,privateKey:e.privateKey,publicKey:e.publicKey,isAuthenticated:!0,isLoading:!1,error:null})}}catch(e){console.error("Failed to load identity:",e),t(t=>({...t,isLoading:!1,error:e}))}};return{...e,logout:()=>{localStorage.removeItem(i),t({did:null,privateKey:null,publicKey:null,isAuthenticated:!1,isLoading:!1,error:null})}}}}}]);