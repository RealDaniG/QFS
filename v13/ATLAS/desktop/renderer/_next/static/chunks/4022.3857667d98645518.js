"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4022],{41439:function(e,t,n){n.d(t,{w:function(){return l}});var a=n(57437),r=n(67872);function l(){return(0,a.jsx)("div",{className:"flex flex-col items-end gap-2",children:(0,a.jsx)(r.NL,{accountStatus:"address",chainStatus:"icon",showBalance:!1})})}},14022:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(57437),r=n(88906),l=n(91804),s=n(11239),o=n(70525),i=n(53417),c=n(95805),d=n(79820),u=n(12381),p=n(69174),f=n(2265),x=n(32038),m=n(27515),h=n(41439),g=n(98497),j=n(66505),v=n(74291);function y(){var e,t,n,y;let{balance:b,history:w,isLoading:N}=function(){let{address:e,isConnected:t,sessionToken:n}=(0,x.i)(),[a,r]=(0,f.useState)(null),[l,s]=(0,f.useState)([]),[o,i]=(0,f.useState)(!0),c=(0,f.useCallback)(async()=>{if(!t||!e||!n){i(!1);return}let a="http://localhost:8000";try{let[e,t]=await Promise.all([fetch("".concat(a,"/api/wallet/balance"),{headers:{Authorization:"Bearer ".concat(n)}}),fetch("".concat(a,"/api/wallet/transactions"),{headers:{Authorization:"Bearer ".concat(n)}})]);if(e.ok&&t.ok){let n=await e.json(),a=await t.json();r({balance:n.balance.FLX,rewards:0,staked:0,currency:"FLX",reputation:0}),s(a.transactions.map(e=>({id:e.id,type:e.type,reason:e.description,amount:e.amount,timestamp:e.timestamp})))}}catch(e){console.error("Failed to refresh treasury in useTreasury hook:",e)}finally{i(!1)}},[e,t,n]);return(0,f.useEffect)(()=>{if(!t||!n){i(!1),r(null),s([]);return}c();let e=setInterval(c,3e4);return()=>clearInterval(e)},[c,t,n]),{balance:a,history:l,isLoading:o,refresh:c}}(),{did:C}=(0,m.a)(),{isConnected:R,address:_}=(0,x.i)(),{explanation:k,fetchRewardExplanation:D,isLoading:E,clearExplanation:S}=(0,j.U)();if(!R)return(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)(d.Zb,{className:"border-blue-500/30 bg-blue-500/5",children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-5 w-5 text-blue-600"}),"Wallet Connection Required"]}),(0,a.jsx)(d.SZ,{children:"Connect your wallet to view your balance, transaction history, and internal credits."})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-background/50 rounded-xl border border-blue-500/20",children:[(0,a.jsx)(l.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold",children:"Secure Wallet Authentication"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your wallet is used for cryptographic identity only. No transfers are supported."})]})]}),(0,a.jsx)("div",{className:"flex justify-center pt-4",children:(0,a.jsx)(h.w,{})})]})]})});let F=(null==b?void 0:b.balance.toFixed(2))||"0.00",A=(null==b?void 0:b.rewards.toFixed(2))||"0.00",I=(null==b?void 0:b.staked.toFixed(2))||"0.00";return(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Wallet Balance"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(d.SZ,{children:R?(0,a.jsxs)("span",{className:"text-blue-600 font-mono",children:["Connected: ",null==_?void 0:_.slice(0,6),"...",null==_?void 0:_.slice(-4)]}):(0,a.jsxs)("span",{children:["DID: ",C?"".concat(C.slice(0,20),"..."):"Not connected"]})}),(0,a.jsx)(h.w,{})]})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium text-blue-900",children:"Wallet Balance"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[F," FLX"]}),(0,a.jsxs)("div",{className:"text-sm text-blue-700 font-medium",children:["Staked: ",I]})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(s.Z,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-green-900",children:"Accrued Rewards"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[A," FLX"]}),(0,a.jsx)("div",{className:"text-sm text-green-700 font-medium",children:"V18 Yield Pool"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("span",{className:"font-medium text-purple-900",children:"Reputation"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null==b?void 0:null===(e=b.reputation)||void 0===e?void 0:e.toFixed(0))||"0"}),(0,a.jsx)("div",{className:"text-sm text-purple-700 font-medium",children:"Network weight"})]})]})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Reward History"})}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"space-y-3",children:0===w.length?(0,a.jsx)("div",{className:"text-center text-muted-foreground py-4",children:"No recent transactions"}):w.map(e=>(0,a.jsxs)(v.Vq,{onOpenChange:e=>{e?D(_||C||"wallet_123",10):S()},children:[(0,a.jsx)(v.hg,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.reason}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[new Date(e.timestamp).toLocaleTimeString()," â€¢ ",e.id.split("_")[2],(0,a.jsx)(p.C,{variant:"outline",className:"ml-2 text-[10px] h-5",children:"Explain"})]})]}),(0,a.jsxs)("div",{className:e.amount>=0?"text-green-600 font-bold":"text-red-600 font-bold",children:[e.amount>=0?"+":"",e.amount.toFixed(2)," FLX"]})]})}),(0,a.jsx)(v.cZ,{className:"max-w-2xl",children:(0,a.jsx)(g.E,{type:"reward",explanation:k||void 0,isLoading:E})})]},e.id))})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Reputation Breakdown"})}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:[{label:"Content Quality",val:(null==b?void 0:null===(t=b.reputation_breakdown)||void 0===t?void 0:t.content_quality)||0,color:"bg-green-600"},{label:"Engagement",val:(null==b?void 0:null===(n=b.reputation_breakdown)||void 0===n?void 0:n.engagement)||0,color:"bg-blue-600"},{label:"Governance",val:(null==b?void 0:null===(y=b.reputation_breakdown)||void 0===y?void 0:y.governance)||0,color:"bg-purple-600"}].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm",children:e.label}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(100*e.val).toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,a.jsx)("div",{className:"".concat(e.color," h-2 rounded-full transition-all duration-500"),style:{width:"".concat(100*e.val,"%")}})})]},e.label))})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Action Simulator"}),(0,a.jsx)(d.SZ,{children:"Simulate potential rewards"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(u.z,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Post Content (Use 'Create' Tab)"]}),(0,a.jsxs)(u.z,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Join Space"]})]})})]})]})]})})}},79820:function(e,t,n){n.d(t,{Ol:function(){return s},SZ:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return d},ll:function(){return o}});var a=n(57437);n(2265);var r=n(93448);function l(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function s(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function o(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...n})}function i(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...n})}function c(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...n})}function d(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...n})}},74291:function(e,t,n){n.d(t,{Vq:function(){return o},cZ:function(){return u},hg:function(){return i}});var a=n(57437);n(2265);var r=n(70001),l=n(32489),s=n(93448);function o(e){let{...t}=e;return(0,a.jsx)(r.fC,{"data-slot":"dialog",...t})}function i(e){let{...t}=e;return(0,a.jsx)(r.xz,{"data-slot":"dialog-trigger",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.h_,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...n}=e;return(0,a.jsx)(r.aV,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function u(e){let{className:t,children:n,showCloseButton:o=!0,...i}=e;return(0,a.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.VY,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[n,o&&(0,a.jsxs)(r.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}},27515:function(e,t,n){n.d(t,{a:function(){return c}});var a=n(2265),r=n(82957).Buffer;async function l(){let e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=await crypto.subtle.exportKey("raw",e.publicKey),n=await crypto.subtle.exportKey("pkcs8",e.privateKey),a=new Uint8Array(t),l=new Uint8Array(n),s=r.from(a).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return{publicKey:a,privateKey:l,did:"did:key:".concat(s)}}let s="atlas_identity_v1";function o(e){if(e.length%2!=0)throw Error("Invalid hex string");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substring(n,n+2),16);return t}function i(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function c(){let[e,t]=(0,a.useState)({did:null,privateKey:null,publicKey:null,isAuthenticated:!1,isLoading:!0,error:null});(0,a.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=localStorage.getItem(s);if(e){let n=JSON.parse(e);t({did:n.did,privateKey:o(n.privateKey),publicKey:o(n.publicKey),isAuthenticated:!0,isLoading:!1,error:null})}else{let e=await l(),n={did:e.did,privateKey:i(e.privateKey),publicKey:i(e.publicKey)};localStorage.setItem(s,JSON.stringify(n)),t({did:e.did,privateKey:e.privateKey,publicKey:e.publicKey,isAuthenticated:!0,isLoading:!1,error:null})}}catch(e){console.error("Failed to load identity:",e),t(t=>({...t,isLoading:!1,error:e}))}};return{...e,logout:()=>{localStorage.removeItem(s),t({did:null,privateKey:null,publicKey:null,isAuthenticated:!1,isLoading:!1,error:null})}}}},66505:function(e,t,n){n.d(t,{U:function(){return l}});var a=n(2265);let r="http://localhost:8000";function l(){let[e,t]=(0,a.useState)(!1),[n,l]=(0,a.useState)(null),[s,o]=(0,a.useState)(null);return{isLoading:e,error:n,explanation:s,fetchRewardExplanation:async(e,n)=>{t(!0),l(null);try{let t="".concat(r,"/explain/reward/").concat(e).concat(n?"?epoch=".concat(n):""),a=await fetch(t,{headers:{Authorization:"Bearer ".concat(getAuthToken()),"Content-Type":"application/json"}});if(!a.ok){if(401===a.status)throw Error("Authentication required");if(403===a.status)throw Error("Permission denied");throw Error("Failed to fetch explanation")}let l=await a.json();o(l)}catch(e){console.error(e),l(e instanceof Error?e.message:"Could not load explanation."),o(null)}finally{t(!1)}},fetchRankingExplanation:async e=>{t(!0),l(null);try{let t="".concat(r,"/explain/ranking/").concat(e),n=await fetch(t,{headers:{Authorization:"Bearer ".concat(getAuthToken()),"Content-Type":"application/json"}});if(!n.ok)throw Error("Failed to fetch explanation");let a=await n.json();o(a)}catch(e){console.error(e),l("Could not load explanation.")}finally{t(!1)}},clearExplanation:()=>{o(null),l(null)}}}},70001:function(e,t,n){n.d(t,{x8:function(){return en},VY:function(){return et},aV:function(){return ee},h_:function(){return Q},fC:function(){return $},xz:function(){return G}});var a=n(2265),r=n(6741),l=n(98575),s=n(73966),o=n(99255),i=n(80886),c=n(15278),d=n(99103),u=n(83832),p=n(71599),f=n(82912),x=n(86097),m=n(60703),h=n(5478),g=n(57437),j=Symbol("radix.slottable");function v(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===j}var y="Dialog",[b,w]=(0,s.b)(y),[N,C]=b(y),R=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:l,onOpenChange:s,modal:c=!0}=e,d=a.useRef(null),u=a.useRef(null),[p,f]=(0,i.T)({prop:r,defaultProp:null!=l&&l,onChange:s,caller:y});return(0,g.jsx)(N,{scope:t,triggerRef:d,contentRef:u,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:p,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:c,children:n})};R.displayName=y;var _="DialogTrigger",k=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=C(_,n),o=(0,l.e)(t,s.triggerRef);return(0,g.jsx)(f.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Y(s.open),...a,ref:o,onClick:(0,r.Mj)(e.onClick,s.onOpenToggle)})});k.displayName=_;var D="DialogPortal",[E,S]=b(D,{forceMount:void 0}),F=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:l}=e,s=C(D,t);return(0,g.jsx)(E,{scope:t,forceMount:n,children:a.Children.map(r,e=>(0,g.jsx)(p.z,{present:n||s.open,children:(0,g.jsx)(u.h,{asChild:!0,container:l,children:e})}))})};F.displayName=D;var A="DialogOverlay",I=a.forwardRef((e,t)=>{let n=S(A,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=C(A,e.__scopeDialog);return l.modal?(0,g.jsx)(p.z,{present:a||l.open,children:(0,g.jsx)(Z,{...r,ref:t})}):null});I.displayName=A;var O=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(a.isValidElement(n)){let e,s;let o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,i=function(e,t){let n={...t};for(let a in t){let r=e[a],l=t[a];/^on[A-Z]/.test(a)?r&&l?n[a]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(n[a]=r):"style"===a?n[a]={...r,...l}:"className"===a&&(n[a]=[r,l].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?(0,l.F)(t,o):o),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=a.forwardRef((e,n)=>{let{children:r,...l}=e,s=a.Children.toArray(r),o=s.find(v);if(o){let e=o.props.children,r=s.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,g.jsx)(t,{...l,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,g.jsx)(t,{...l,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}("DialogOverlay.RemoveScroll"),Z=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=C(A,n);return(0,g.jsx)(m.Z,{as:O,allowPinchZoom:!0,shards:[r.contentRef],children:(0,g.jsx)(f.WV.div,{"data-state":Y(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),K="DialogContent",W=a.forwardRef((e,t)=>{let n=S(K,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=C(K,e.__scopeDialog);return(0,g.jsx)(p.z,{present:a||l.open,children:l.modal?(0,g.jsx)(z,{...r,ref:t}):(0,g.jsx)(V,{...r,ref:t})})});W.displayName=K;var z=a.forwardRef((e,t)=>{let n=C(K,e.__scopeDialog),s=a.useRef(null),o=(0,l.e)(t,n.contentRef,s);return a.useEffect(()=>{let e=s.current;if(e)return(0,h.Ry)(e)},[]),(0,g.jsx)(P,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.Mj)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,r.Mj)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,r.Mj)(e.onFocusOutside,e=>e.preventDefault())})}),V=a.forwardRef((e,t)=>{let n=C(K,e.__scopeDialog),r=a.useRef(!1),l=a.useRef(!1);return(0,g.jsx)(P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current||null===(s=n.triggerRef.current)||void 0===s||s.focus(),t.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:t=>{var a,s;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let o=t.target;(null===(s=n.triggerRef.current)||void 0===s?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),P=a.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,u=C(K,n),p=a.useRef(null),f=(0,l.e)(t,p);return(0,x.EW)(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,g.jsx)(c.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Y(u.open),...i,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(J,{titleId:u.titleId}),(0,g.jsx)(H,{contentRef:p,descriptionId:u.descriptionId})]})]})}),L="DialogTitle";a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=C(L,n);return(0,g.jsx)(f.WV.h2,{id:r.titleId,...a,ref:t})}).displayName=L;var M="DialogDescription";a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=C(M,n);return(0,g.jsx)(f.WV.p,{id:r.descriptionId,...a,ref:t})}).displayName=M;var B="DialogClose",T=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,l=C(B,n);return(0,g.jsx)(f.WV.button,{type:"button",...a,ref:t,onClick:(0,r.Mj)(e.onClick,()=>l.onOpenChange(!1))})});function Y(e){return e?"open":"closed"}T.displayName=B;var U="DialogTitleWarning",[q,X]=(0,s.k)(U,{contentName:K,titleName:L,docsSlug:"dialog"}),J=e=>{let{titleId:t}=e,n=X(U),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return a.useEffect(()=>{t&&!document.getElementById(t)&&console.error(r)},[r,t]),null},H=e=>{let{contentRef:t,descriptionId:n}=e,r=X("DialogDescriptionWarning"),l="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return a.useEffect(()=>{var e;let a=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");n&&a&&!document.getElementById(n)&&console.warn(l)},[l,t,n]),null},$=R,G=k,Q=F,ee=I,et=W,en=T}}]);