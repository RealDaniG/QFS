(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{86362:function(e,t,a){Promise.resolve().then(a.bind(a,5295))},5295:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(57437),n=a(2265),r=a(30166),i=a(14938),l=a(26937),o=a(53417),c=a(95805),d=a(88906),u=a(71769),f=a(91804),h=a(98728),x=a(32489),b=a(58293),m=a(73247),v=a(94766),g=a(12381),p=a(40279),j=a(69174),w=a(90641),N=a(93448),y=a(32038),k=a(67872);let S=[{id:"home",label:"Home",icon:i.Z},{id:"create",label:"Create",icon:l.Z},{id:"messages",label:"Messages",icon:o.Z},{id:"communities",label:"Communities",icon:c.Z},{id:"governance",label:"Governance",icon:d.Z},{id:"ledger",label:"Ledger & Explain",icon:u.Z},{id:"wallet",label:"Wallet & Reputation",icon:f.Z},{id:"settings",label:"Settings & Safety",icon:h.Z}];function z(e){let{children:t,activeTab:a,setActiveTab:r}=e,[i,l]=(0,n.useState)(!0),{isConnected:o,isAuthenticated:c,address:d,session:u,authenticate:f,logout:h}=(0,y.i)();return(0,s.jsxs)("div",{className:"flex h-screen bg-background text-foreground",children:[(0,s.jsxs)("div",{className:(0,N.cn)("flex flex-col border-r bg-card transition-all duration-300",i?"w-64":"w-16"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("div",{className:(0,N.cn)("flex items-center gap-2",!i&&"hidden"),children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-pink-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"AT"})}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"ATLAS"})]}),(0,s.jsx)(g.z,{variant:"ghost",size:"sm",onClick:()=>l(!i),children:i?(0,s.jsx)(x.Z,{className:"h-4 w-4"}):(0,s.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)(w.x,{className:"flex-1",children:(0,s.jsx)("div",{className:"p-2",children:S.map(e=>{let t=e.icon;return(0,s.jsxs)(g.z,{variant:a===e.id?"secondary":"ghost",className:(0,N.cn)("w-full justify-start mb-1",!i&&"justify-center px-2"),onClick:()=>r(e.id),children:[(0,s.jsx)(t,{className:"h-4 w-4"}),i&&(0,s.jsx)("span",{className:"ml-2",children:e.label})]},e.id)})})}),i&&(0,s.jsx)("div",{className:"p-4 border-t",children:(0,s.jsx)("div",{className:"flex flex-col gap-3",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:null==d?void 0:d.substring(2,4).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:d}),(0,s.jsx)("p",{className:(0,N.cn)("text-[10px] font-bold uppercase tracking-wider",c?"text-green-500":"text-yellow-500"),children:c?"Authenticated":"Unverified Session"})]})]}),!c&&(0,s.jsx)(g.z,{size:"sm",variant:"outline",className:"w-full text-xs h-8 border-yellow-500/50 hover:bg-yellow-500/10",onClick:()=>f(),children:"Verify Identity"}),c&&(0,s.jsx)(g.z,{size:"sm",variant:"ghost",className:"w-full text-xs h-8 text-muted-foreground hover:text-destructive",onClick:()=>h(),children:"Logout"})]}):(0,s.jsxs)("div",{className:"text-center py-2",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Connect wallet to start"}),(0,s.jsx)(k.NL,{label:"Connect",accountStatus:"avatar",chainStatus:"icon",showBalance:!1})]})})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-card",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 flex-1",children:(0,s.jsxs)("div",{className:"relative max-w-md flex-1",children:[(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(p.I,{placeholder:"Search posts, users, topics...",className:"pl-10"})]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(g.z,{variant:"ghost",size:"sm",className:"relative",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4"}),(0,s.jsx)(j.C,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]})})]}),(0,s.jsx)("div",{className:"flex-1 relative overflow-auto",children:t})]})]})}var C=a(17168);let T=(0,r.default)(()=>Promise.all([a.e(2957),a.e(2264)]).then(a.bind(a,32264)).then(e=>e.HomeTab),{loadableGenerated:{webpack:()=>[32264]},ssr:!1}),_=(0,r.default)(()=>a.e(1625).then(a.bind(a,81625)).then(e=>e.CreateTab),{loadableGenerated:{webpack:()=>[81625]},ssr:!1}),Z=(0,r.default)(()=>a.e(5815).then(a.bind(a,45815)).then(e=>e.MessagesTab),{loadableGenerated:{webpack:()=>[45815]},ssr:!1}),U=(0,r.default)(()=>a.e(7740).then(a.bind(a,67740)).then(e=>e.CommunitiesTab),{loadableGenerated:{webpack:()=>[67740]},ssr:!1}),A=(0,r.default)(()=>a.e(3952).then(a.bind(a,3952)).then(e=>e.GovernanceTab),{loadableGenerated:{webpack:()=>[3952]},ssr:!1}),G=(0,r.default)(()=>a.e(8399).then(a.bind(a,58399)).then(e=>e.LedgerTab),{loadableGenerated:{webpack:()=>[58399]},ssr:!1}),O=(0,r.default)(()=>a.e(7629).then(a.bind(a,47629)).then(e=>e.WalletTab),{loadableGenerated:{webpack:()=>[47629]},ssr:!1}),E=(0,r.default)(()=>a.e(2695).then(a.bind(a,42695)).then(e=>e.SettingsTab),{loadableGenerated:{webpack:()=>[42695]},ssr:!1});function I(){let[e,t]=(0,n.useState)("home");return(0,s.jsx)(z,{activeTab:e,setActiveTab:t,children:(0,s.jsx)("main",{className:"p-6 h-full",children:(0,s.jsxs)(C.mQ,{value:e,onValueChange:t,className:"h-full",children:[(0,s.jsx)(C.nU,{value:"home",className:"mt-0 h-full",children:(0,s.jsx)(T,{})}),(0,s.jsx)(C.nU,{value:"create",className:"mt-0 h-full",children:(0,s.jsx)(_,{})}),(0,s.jsx)(C.nU,{value:"messages",className:"mt-0 h-full",children:(0,s.jsx)(Z,{})}),(0,s.jsx)(C.nU,{value:"communities",className:"mt-0 h-full",children:(0,s.jsx)(U,{})}),(0,s.jsx)(C.nU,{value:"governance",className:"mt-0 h-full",children:(0,s.jsx)(A,{})}),(0,s.jsx)(C.nU,{value:"ledger",className:"mt-0 h-full",children:(0,s.jsx)(G,{})}),(0,s.jsx)(C.nU,{value:"wallet",className:"mt-0 h-full",children:(0,s.jsx)(O,{})}),(0,s.jsx)(C.nU,{value:"settings",className:"mt-0 h-full",children:(0,s.jsx)(E,{})})]})})})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var s=a(57437);a(2265);var n=a(37053),r=a(90535),i=a(93448);let l=(0,r.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:r=!1,...o}=e,c=r?n.g7:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:a}),t),...o})}},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var s=a(57437);a(2265);var n=a(37053),r=a(90535),i=a(93448);let l=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:r,asChild:o=!1,...c}=e,d=o?n.g7:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:r,className:t})),...c})}},40279:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});var s=a(57437);a(2265);var n=a(93448);function r(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}},90641:function(e,t,a){"use strict";a.d(t,{x:function(){return i}});var s=a(57437);a(2265);var n=a(43643),r=a(93448);function i(e){let{className:t,children:a,...i}=e;return(0,s.jsxs)(n.fC,{"data-slot":"scroll-area",className:(0,r.cn)("relative",t),...i,children:[(0,s.jsx)(n.l_,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,s.jsx)(l,{}),(0,s.jsx)(n.Ns,{})]})}function l(e){let{className:t,orientation:a="vertical",...i}=e;return(0,s.jsx)(n.gb,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,r.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...i,children:(0,s.jsx)(n.q4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},17168:function(e,t,a){"use strict";a.d(t,{SP:function(){return o},dr:function(){return l},mQ:function(){return i},nU:function(){return c}});var s=a(57437);a(2265);var n=a(41312),r=a(93448);function i(e){let{className:t,...a}=e;return(0,s.jsx)(n.fC,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)(n.aV,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(n.xz,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(n.VY,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...a})}},32038:function(e,t,a){"use strict";a.d(t,{i:function(){return i}});var s=a(64707),n=a(25865),r=a(2265);function i(){let{address:e,isConnected:t}=(0,s.m)(),{signMessageAsync:a}=(0,n.Q)(),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[f,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("atlas_session");if(e){let t=JSON.parse(e);t.expiresAt>Date.now()/1e3?(h(t),u(t.sessionToken),l(!0)):localStorage.removeItem("atlas_session")}},[]);let x=async()=>{if(e&&t){c(!0);try{let t=await fetch("".concat("http://localhost:8000","/api/auth/challenge"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:e})});if(!t.ok)throw Error("Failed to get challenge");let{message:s}=await t.json(),n=await a({message:s}),r=await fetch("http://localhost:8000/api/auth/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:e,signature:n,message:s})});if(!r.ok)throw Error("Signature verification failed");let i=await r.json();localStorage.setItem("atlas_session",JSON.stringify(i)),h(i),u(i.sessionToken),l(!0)}catch(e){console.error("Authentication failed:",e),l(!1)}finally{c(!1)}}},b=async()=>{if(f)try{await fetch("http://localhost:8000/api/auth/logout",{method:"POST",headers:{Authorization:"Bearer ".concat(f.sessionToken)}})}catch(e){console.warn("Logout failed on backend",e)}localStorage.removeItem("atlas_session"),h(null),u(null),l(!1)};return{isConnected:t,isAuthenticated:i,isAuthenticating:o,address:e,session:f,sessionToken:d,authenticate:x,triggerAuth:x,logout:b}}},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(61994),n=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[9472,4618,6827,2971,2117,1744],function(){return e(e.s=86362)}),_N_E=e.O()}]);